{"version":3,"sources":["./src/app/test/test.module.ts","./src/app/test/test-routing.module.ts","./src/app/test/main/main.component.ts","./src/app/test/main/main.component.html"],"names":[],"mappings":"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","file":"test-test-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TestRoutingModule } from './test-routing.module';\nimport { MainComponent } from './main/main.component';\n\n@NgModule({\n  declarations: [\n    MainComponent\n  ],\n  imports: [\n    CommonModule,\n    TestRoutingModule\n  ]\n})\nexport class TestModule { }\n","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport { MainComponent } from './main/main.component';\n\nconst routes: Routes = [\n  {path: '', component: MainComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class TestRoutingModule {\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { webSocket, WebSocketSubject } from 'rxjs/webSocket';\nimport { Configuration } from 'src/app/modules/outer-config/config';\nimport { SocketInterface } from 'src/app/shared/interfaces/socket.interface';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.scss']\n})\nexport class MainComponent implements OnInit {\n  private subject: WebSocketSubject<SocketInterface> = webSocket(Configuration.tradeService);\n  private fiatSubject: WebSocketSubject<SocketInterface> = webSocket(Configuration.fiatService);\n  public isPayMesage: string = environment.testModeOfDevice ? 'Купюроприемник': 'Карта';\n  public messages: string[] = [];\n\n  constructor() { \n\n  }\n    \n  ngOnInit(): void {\n  }\n\n  /* CASHMACHINE */\n\n/**\n * Блокировка/разблокировка приема\n *\n * @param flag\n */\n  setCashmachineEnabled(flag) {\n    this.sendCommand({\"object\": \"cashmachine\", \"cmd\": \"enable\", \"enable\": flag});\n    return false;\n  }\n \n  /*\n  * Запрос инфо о купюрнике\n  */\n public cashmachineGetInfo() {\n   this.sendCommand({\"object\": \"cashmachine\", \"cmd\": \"getInfo\"});\n   return false;\n }\n\n  public clearMessage() {\n    this.messages = [];\n    return false;\n  }\n \n \n /* COINMACHINE */ \n /**\n  * Блокировка/разблокировка приема на монетнике\n  *\n  * @param flag\n  */\n setCoinmachineEnabled(flag) {\n   this.sendCommand({\"object\": \"coinmachine\", \"cmd\": \"enable\", \"enable\": flag});\n   return false;\n }\n \n /**\n  * Запрос инфо о монетнике\n  */\n coinmachineGetInfo() {\n   this.sendCommand({\"object\": \"coinmachine\", \"cmd\": \"getInfo\"});\n   return false;\n }\n\n /**\n *\n * Отправка произвольной команды\n * В качестве параметра передается строка объект на отправку\n */\n sendCommand(command) {\n   let observer = environment.testModeOfDevice ? this.fiatSubject : this.subject;\n   let sendMessage = `Send commant to socket: ${JSON.stringify(command)}`;\n   console.log('Send commant to socket', command);\n   observer.next(command);\n   observer.subscribe(command =>{\n    console.log('Responce from socket', command);\n    observer.complete();\n    this.messages.push(`${sendMessage}<br><b>Responce from socket</b>: ${JSON.stringify(command)}<br><br>`);\n   }, (error)=> {\n    console.log('Error from socket', error);\n    this.messages.push(`${sendMessage}<br><br><b>Error from socket</b>: ${JSON.stringify(error)}<br><br>`);\n    observer.complete();\n   });\n}\n\n}\n","<div class=\"main\">\n    <div class=\"main-container\">\n        <div class=\"slot-cell\">\n            <h1>Тестовый модуль для настроек</h1>            \n            <div>Сконфигурирован для: {{isPayMesage}}</div>\n            <form class=\"search-wrap\">\n                <h3>Купюроприемник</h3>\n                <div class=\"flex\">\n                    <button type=\"button\" \n                        class=\"slot-btn search-btn\" \n                        (click)=\"cashmachineGetInfo()\">\n                        Информация о купюрнике\n                    </button>\n                    <button class=\"slot-btn search-btn\" \n                            (click)=\"setCashmachineEnabled(true)\">\n                        Начать прием банкнот\n                    </button>\n                    <button \n                        class=\"slot-btn search-btn\"\n                        (click)=\"setCashmachineEnabled(false);\">\n                        Завершить прием банкнот\n                    </button> \n                </div>\n        \n                <h3>Монетоприемник</h3>\n                <div class=\"flex\">\n                    <button class=\"slot-btn search-btn\" \n                            (click)='coinmachineGetInfo();'>\n                        Информация о Монетнике\n                    </button>\n                    <button class=\"slot-btn search-btn\" \n                            (click)=\"setCoinmachineEnabled(true);\">\n                        Начать прием монет\n                    </button>\n                    <button class=\"slot-btn search-btn\"\n                            (click)=\"setCoinmachineEnabled(false);\">\n                        Завершить прием монет\n                    </button>        \n                </div>\n                <div class=\"flex\">\n                    <button class=\"slot-btn search-btn\" \n                            (click)='clearMessage();'>  \n                        Очистить сообщения\n                    </button>\n                </div>\n            </form>            \n            <div id=\"cm_log\" style=\"background-color: #DDDDDD;\">\n                <div class=\"message\" *ngFor=\"let message of messages\"\n                    [innerHtml]=\"message\">                    \n                </div>\n            </div>\n        </div>        \n    </div>\n</div>"],"sourceRoot":"webpack:///"}